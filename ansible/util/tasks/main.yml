---
- name: Install general utilities
  become: "{{ become_option }}"
  package:
    name: "{{ item }}"
    state: present
  with_items:
    - awscli
    - colordiff
    - git
    - htop
    - jq
    - nmap
    - telnet
    - tmux
    - tree

- name: Install utilities from Homebrew
  community.general.homebrew:
    name: "{{ item }}"
    state: present
  with_items:
    - gh
    - k9s
    - kubernetes-cli
    - pstree
    - ripgrep
    - stern
    - tldr
    - watch

- name: Install Ubuntu utilities
  when: distribution == 'Ubuntu'
  become: yes
  package:
    name: "{{ item }}"
    state: present
  with_items:
    - keychain
    - net-tools
    - python3-apt
    - python3-venv
    - software-properties-common
    - zsh

- name: "Copy tmux configuration"
  copy: src={{ home_dir }}/dotfiles/templates/tmux.conf dest={{ home_dir }}/.tmux.conf force=no

- name: "Copy .editorconfig"
  copy: src={{ home_dir }}/dotfiles/.editorconfig dest={{ home_dir }}/.editorconfig force=no
