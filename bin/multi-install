#!/bin/bash
#
# Installs a package. Supports multiple OSes (currently macOS and Ubuntu).
#
set -o nounset -o errexit -o pipefail

SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
PACKAGE=$1

if [ "${OSTYPE//[0-9.]/}" == "darwin" ]; then
  $SCRIPT_DIR/brew-install-or-upgrade $PACKAGE
elif cat /etc/*release | grep ^NAME | grep Ubuntu &>/dev/null; then
  sudo apt-get install -y $PACKAGE
else
  echo "Unsupported OS"
  exit 1
fi
